!function(a){var t={pageInit:function(e){var n=a.extend({},a.fn.zPager.defaults,e);return a(this).each(function(e,r){var o=a(r);o.data("options",n),t.pageData(o,n.current)})},pageData:function(e,n){var r=e.data("options"),o=r.totalData,s=r.pageData,p=null;if(r.ajaxSetData&&"boolean"==typeof r.ajaxSetData)if(""!==r.url&&"string"==typeof r.url){if(p=t.ajaxData(r.url,n),o=r.totalData=p.total,p.rows.length>0){var i=r.dataRender&&"function"==typeof r.dataRender;i?r.dataRender(p.rows):t.dataRender(e,p.rows)}}else a.pageError(2);r.pageCount=o%s==0?parseInt(o/s):parseInt(o/s)+1,r.pageCount>0&&(e.data("options",r),t.pageRender(e,n))},dataRender:function(a,t){for(var e=a.data("options"),n="",r=0;r<t.length;r++)n+='<div class="cc_cells"><a href=""><span>'+t[r].id+"-"+Math.random()+"</span>",n+="<span>"+t[r].title+"</span>",n+="<span>"+t[r].starttime+"</span>",n+="<span>"+t[r].endtime+"</span>",n+="</a></div>";if(""===e.htmlBox||"Obeject"!=typeof e.htmlBox){if(!a.prev().hasClass("pagerHtmlWrap")){a.before('<div class="pagerHtmlWrap"></div>')}a.prev().html(n)}else e.htmlBox.html(n)},pageRender:function(a,e){var n=a.data("options"),r=n.pageCount,o=parseInt(n.pageStep/2),s=o-2,p="";r>n.pageStep&&e<=r?(p+=t.setPrevNext(n,"prev"),e<=o?(p+=t.forEach(1,n.pageStep,e,n.active),p+=t.elliPsis()):e>o&&e<r-s?(p+=t.pageBtn(1),p+=t.elliPsis(),p+=t.forEach(e-s,e- -s- -1,e,n.active),p+=t.elliPsis()):e>=r-s&&(p+=t.pageBtn(1),p+=t.elliPsis(),p+=t.forEach(r-2*s-1,r- -1,e,n.active)),p+=t.setPrevNext(n,"next")):r<=n.pageStep&&(r>n.minPage&&(p+=t.setPrevNext(n,"prev")),p+=t.forEach(1,r- -1,e,n.active),r>n.minPage&&(p+=t.setPrevNext(n,"next"))),a.html(p),t.bindEvent(a)},bindEvent:function(e){var n=e.data("options"),r=e.find("a");a.each(r,function(r,o){var s=a(this);s.on("click",function(){if(s.attr("disabled"))return!1;var a=s.attr("page-id");n.current=a,e.data("options",n),t.pageData(e,a)})})},forEach:function(a,e,n,r){for(var o="",s=a;s<e;s++)s===parseInt(n)?o+=t.pageCurrent(s,r):o+=t.pageBtn(s);return o},pageCurrent:function(a,t){return'<span class="'+t+'" page-id="'+a+'">'+a+"</span>"},elliPsis:function(){return'<span class="els">...</span>'},pageBtn:function(a){return'<a page-id="'+a+'">'+a+"</a>"},addBtn:function(a,t,e){var n="";return e&&(n=0===t||t===e- -1?'disabled="true"':""),'<a class="'+a+'" page-id="'+t+'" '+n+"></a>"},setPrevNext:function(a,e){var n="";return"prev"===e?function(){return a.btnShow&&(n+=t.addBtn(a.firstBtn,1)),a.btnBool&&(n+=t.addBtn(a.prevBtn,a.current-1,a.pageCount)),n}():function(){return a.btnBool&&(n+=t.addBtn(a.nextBtn,a.current- -1,a.pageCount)),a.btnShow&&(n+=t.addBtn(a.lastBtn,a.pageCount)),n}()},ajaxData:function(t,e){var n=a.fn.zPager.defaults.totalData;return function(){var r={total:n,rows:[]};return a.ajax({url:t,type:"get",data:{page:e},dataType:"json",cache:!1,async:!1,success:function(t){t.total&&0!==t.total?(r.total=t.total,r.rows=t.rows):a.pageError(3)},error:function(a,t,e){var n="";switch(a.readyState){case 0:n="（未初始化）还没有调用send()方法";break;case 1:n="（载入）已调用send()方法，正在发送请求";break;case 2:n="（载入完成）send()方法执行完成，已经接收到全部响应内容";break;case 3:n="（交互）正在解析响应内容";break;case 4:n="（完成）响应内容解析完成，可以在客户端调用了"}console.log(t+"："+a.readyState+"-"+n)}}),r}()}};a.extend({pageError:function(a){switch(a){case 1:console.log("method"+method+"dose not exist on jQuery.zPager");break;case 2:console.log("no ajax");break;case 3:console.log("no data");break;default:console.log("default error")}}}),a.fn.extend({zPager:function(e){return t[e]?t[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void a.pageError(1):t.pageInit.apply(this,arguments)}}),a.fn.zPager.defaults={totalData:10,pageData:4,pageCount:0,current:1,pageStep:10,minPage:5,active:"current",prevBtn:"pg-prev",nextBtn:"pg-next",btnBool:!0,firstBtn:"pg-first",lastBtn:"pg-last",btnShow:!0,disabled:!0,ajaxSetData:!0,url:"",htmlBox:""}}(jQuery);